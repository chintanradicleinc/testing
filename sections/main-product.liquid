{%- comment -%}theme-check-disable LiquidTag, NestedSnippet, TemplateLength{%- endcomment -%}
{%- comment -%}Build: bg-info-bg text-info-text{%- endcomment -%}
{{ 'product.css' | asset_url | stylesheet_tag }}
{{ 'product-page.css' | asset_url | stylesheet_tag }}

{%- assign messages = section.blocks | where: 'type', 'message' -%}
{%- if messages -%}
  <script src="{{ 'product-message.js' | asset_url }}" defer="defer"></script>
  {{ 'product-message.css' | asset_url | stylesheet_tag }}
{%- endif -%}

{%- if product.metafields.spr.reviews -%}
  {{ 'reviews.css' | asset_url | stylesheet_tag }}
{%- endif -%}

{%- if product.media.size > 0 -%}
  <link rel="stylesheet" href="{{ 'media-gallery.css' | asset_url }}">
{%- endif -%}

{%- if product.metafields.reviews.rating.value != blank -%}
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (document.getElementById('shopify-product-reviews')) {
        const link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = "{{ 'reviews.css' | asset_url }}";
        document.body.appendChild(link);
      }
    }, { once: true });
  </script>
{%- endif -%}

{%- liquid
  # constants
  assign breakpoint_md = 769
  assign breakpoint_lg = 1024

  assign product_form_id = 'product-form-' | append: section.id
  assign current_variant = product.selected_or_first_available_variant
  assign first_3d_model = product.media | where: 'media_type', 'model' | first
  assign media_ratio = section.settings.media_ratio
  assign thumb_ratio = section.settings.thumb_ratio

  if media_ratio == 'natural'
    assign media_ratio = 99
    for media in product.media
      if media.preview_image.aspect_ratio < media_ratio
        assign media_ratio = media.preview_image.aspect_ratio
      endif
    endfor
  endif

  if thumb_ratio == 'natural'
    assign thumb_ratio = 99
    for media in product.media
      if media.preview_image.aspect_ratio < thumb_ratio
        assign thumb_ratio = media.preview_image.aspect_ratio
      endif
    endfor
  endif
-%}

{%- style -%}
  {%- if section.settings.media_layout == 'stacked' -%}
    @media (max-width:  {{ breakpoint_md | minus: 0.02 }}px) {
      .media-gallery__main .media-xr-button { display: none; }
      .active .media-xr-button:not([data-shopify-xr-hidden]) { display: block; }
    }
  {%- else -%}
    .media-gallery__main .media-xr-button { display: none; }
    .active .media-xr-button:not([data-shopify-xr-hidden]) { display: block; }
  {%- endif -%}

  {%- if section.settings.media_size == 'large' -%}
    @media (min-width: {{ breakpoint_lg }}px) {
      :root { --product-info-width: 400px !important; }
    }
  {%- endif -%}
{%- endstyle -%}
{% assign incart = false %}
{% assign cart_state = '' %}
{% assign cart_discipline = '' %}
{% assign cart_variant = '' %}
{% assign cart_added_variant = '' %}
{% for item in cart.items %}
  {% if item.product.id == product.id %}
    {% assign incart = true %}
    {% assign cart_variant = item.variant.id %}
    {% assign cart_added_variant = item.index | plus: 1 %}
    {%- for property in item.properties -%}
      {% if property.first contains '_admin_state' %}
        {% assign cart_state = property.last %}
      {% endif %}
      {% if property.first contains '_admin_discipline' %}
        {% assign cart_discipline = property.last %}
      {% endif %}
    {% endfor %}
  {% endif %}
{% endfor %}
{%- if first_3d_model -%}
  <link
    rel="stylesheet"
    href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css"
    media="print"
    onload="this.media='all'"
  >
  <link rel="stylesheet" href="{{ 'model-viewer.css' | asset_url }}" media="print" onload="this.media='all'">
  <script src="{{ 'product-model.js' | asset_url }}" defer></script>
{%- endif -%}

<div class="container">
  <div class="product js-product" data-section="{{ section.id }}" data-pro_type="{{ product.type }}">
    <div
      id="product-media"
      class="{% if product.metafields.colibri.education_type != blank %}pos_rel{% endif %} product-media product-media--{{ section.settings.media_layout }}"
    >
      {% comment %} convert our dates to Number of seconds  since 1970-01-01 00:00:00 UTC {% endcomment %}
      {% assign dateStart = product.created_at | date: '%s' %}
      {% assign dateRelease = product.metafields.colibri.release_date | date: '%s' %}
      {% assign nowTimestamp = 'now' | date: '%s' %}

      {% comment %} difference in seconds {% endcomment %}
      {% assign diffSeconds_s = nowTimestamp | minus: dateStart %}
      {% assign diffSeconds_r = nowTimestamp | minus: dateRelease %}

      {% comment %} difference in days {% endcomment %}
      {% assign diffDays_s = diffSeconds_s | divided_by: 3600 | divided_by: 24 %}
      {% assign diffDays_r = diffSeconds_r | divided_by: 3600 | divided_by: 24 %}
      {% if product.metafields.colibri.release_date != blank %}
        {% if diffDays_r <= 90 and diffDays_r > 0 %}
          <span class="tag new">NEW</span>
        {% endif %}
      {% endif %}
      {% if product.metafields.colibri.education_type != blank and product.price == 0 %}
        <span class="tag">{{ product.metafields.colibri.education_type }}</span>
      {% endif %}
      {%- if product.media.size > 0 -%}
        <div class="media relative">
          {{ product.featured_media | img_url: '1024x' | img_tag }}
        </div>
      {% else %}
        {{ 'image' | placeholder_svg_tag: 'media__placeholder dark' }}
      {%- endif -%}
      <div class="left_extra">
        <div class="custom_line">
          <div class="v_h">
            {%- if product.has_only_default_variant -%}
              {% if product.metafields.colibri.contact_hours != blank %}
                <span class="pro_hours">
                  <img src="{{ 'clock.png' | asset_url }}">
                  <span id="courseHours">{{- product.metafields.colibri.contact_hours }}</span> Hours
                </span>
                <span class="pipe_c">|</span>
              {% endif %}
              {% if product.metafields.colibri.course_format != blank %}
                <div class="icon_txt">
                  <img src="{{ 'pro_icon.png' | asset_url }}"
                  ><span>{{ product.metafields.colibri.course_format }}</span>
                </div>
              {% endif %}
            {% else %}
              {% if product.selected_or_first_available_variant.metafields.colibri.contact_hours != blank %}
                <span class="pro_hours">
                  <img src="{{ 'clock.png' | asset_url }}">
                  <span id="courseHours">
                    {{- product.selected_or_first_available_variant.metafields.colibri.contact_hours -}}
                  </span>
                  Hours
                </span>
                <span class="pipe_c">|</span>
              {% endif %}
              {% if product.metafields.colibri.course_format != blank %}
                <div class="icon_txt">
                  <img src="{{ 'pro_icon.png' | asset_url }}"
                  ><span>{{ product.metafields.colibri.course_format }}</span>
                </div>
              {% endif %}
            {% endif %}
          </div>
          {% if product.metafields.colibri.instructional_level != blank %}
            <span class="ins">Instructional Level: {{ product.metafields.colibri.instructional_level }}</span>
          {% endif %}
          <hr class="mt-2 mb-2">

          {%- for block in section.blocks -%}
            {% unless template contains 'bundle-product' or template contains 'pre-define-bundle' or product.title contains 'bundle' %}
              {% if block.type == 'course_category' %}
                {% include 'pro_category_filter' %}
                <hr class="mt-2 mb-2">
              {% endif %}
            {% endunless %}  

            {% if block.type == 'course_outline' %}
              {% if block.settings.heading != blank and product.metafields.colibri.course_outline != blank %}
                <button onclick="toggleBox_c()" class="rad_h6 section_category_button2 mobile-only">
                  {{ block.settings.heading }}
                  <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" focusable="false" role="presentation" class="icon"><path d="M20 8.5 12.5 16 5 8.5" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
                </button>
               
                 <div class="course_pop is-fixed left_content course_outline course-outline-section">
                    <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                     {{ block.settings.heading }}
                    </h2>
                    <button onclick="toggleBox_c()" type="button" class="drawer__close-btn js-close-drawer mobile-only">
                      <span class="visually-hidden">Close</span>
                      <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linejoin="round" aria-hidden="true" focusable="false" role="presentation" class="icon">
                        <path d="M5 19 19 5M5 5l14 14"></path>
                      </svg>
                    </button>
                    {{ product.metafields.colibri.course_outline | remove: '<br>' | remove: 'Course Outline:' }}
                  </div>        
                {% comment %}
                <div class="course_pop is-fixed left_content course_outline course-outline-section">
                  <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                    {{ block.settings.heading }}
                  </h2>
                  {{ product.metafields.colibri.course_outline | remove: '<br>' | remove: 'Course Outline:' }}
                </div>
                {% endcomment %}
                <hr class="mt-2 mb-2">
              {% endif %}
              <script>
                  function toggleBox_c(){
                    $('.js-product .course_pop').toggleClass('open');
                  }
              </script>
            {% endif %}

            {% if block.type == 'unlimited_membership' %}
              <div class="product-show">
                <div class="product-page-left-product">
                  {% assign left_product = all_products[block.settings.unlimited_product] %}

                  {%- if left_product != blank -%}
                    <p class="rad_24 product-title-membership">{{ left_product.title }}</p>
                    {%- if block.settings.subtitle_product != blank -%}
                      <p class="rad_h6 h6 sub-heading-font mb-0 flex-auto">
                        {{- block.settings.subtitle_product | escape -}}
                      </p>
                    {%- endif -%}
                    {% if left_product.variant.compare_at_price != product.price %}
                      <del class="order-list__line.variant.compare_at_price">
                        {{- left_product.variant.compare_at_price | money -}}
                      </del>
                    {% endif %}

                    <div class="product-info__block_member" {{ block.shopify_attributes }}>
                      {% render 'price', product: left_product, use_variant: true %}
                      <product-form class="product_cart_add">
                        {% form 'product',
                          product,
                          class: 'js-product-form js-product-form-main',
                          id: product_form_id
                        %}
                          <select name="id" style="display: none">
                            {% for variant in left_product.variants %}
                              <option value="{{ variant.id }}"></option>
                            {% endfor %}
                          </select>
                          <input
                            type="hidden"
                            class="qty-input__input input"
                            id="quantity-quickadd"
                            name="quantity"
                            value="1"
                          >

                          <button
                            type="submit"
                            data-product_id="{{ product.id }}"
                            data-add-to-cart-text="Add to cart"
                            name="add"
                            class="{% if incart == true %}btn--cyan dis_btn{% endif %} rad_h6 left-sidebar-prod-btn"
                            {% if incart == true %}
                              data-state="{{ cart_state }}"
                              data-added-variant="{{ cart_added_variant }}"
                              data-edit="true"
                              data-discipline="{{ cart_discipline }}"
                              data-variant="{{ cart_variant }}"
                            {% endif %}
                          >
                            {% if product.template_suffix contains 'package-products'
                              or product.template_suffix contains 'pre-define-bundle'
                            -%}
                              Choose Options
                            {%- else -%}
                              {%- if incart == true -%}
                                In Cart
                              {%- else -%}
                                Add to Cart
                              {%- endif -%}
                            {%- endif %}
                          </button>
                        {% endform %}
                      </product-form>
                    </div>
                  {%- endif -%}
                </div>
              </div>
              <hr class="mt-5 mb-5">
            {% endif %}

            {% if block.type == 'author' %}
           
              {% assign authors = product.metafields.colibri.authors.value %}
              {% assign authorcount = authors.count %}
               {% if block.settings.heading != blank %}
                 <button onclick="toggleBox_a()" class="rad_h6 section_category_button2 mobile-only">
                   {{ block.settings.heading }}
                   <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" focusable="false" role="presentation" class="icon"><path d="M20 8.5 12.5 16 5 8.5" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
                 </button>
                 <div class="author_pop is-fixed left_content course_outline course-outline-section">
                
                  <div class="left_content author">
                    {% if authorcount > 1 %}
                      <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                       Authors
                      </h2>
                    {% else %} 
                     <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                        {{ block.settings.heading }}
                      </h2>
                   {% endif %} 
                    <button onclick="toggleBox_a()" type="button" class="drawer__close-btn js-close-drawer mobile-only">
                      <span class="visually-hidden">Close</span>
                      <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linejoin="round" aria-hidden="true" focusable="false" role="presentation" class="icon">
                        <path d="M5 19 19 5M5 5l14 14"></path>
                      </svg>
                    </button>
                      {% for author in authors %}     
                        <div class="author_name">
                          <a href="{{ author.system.url }}">{{ author.name }}</a>
                        </div>
                    {% endfor %} 
                  </div>
                 
                 </div>
              {% endif %}
              <script>
                  function toggleBox_a(){
                    $('.js-product .author_pop').toggleClass('open');
                  }
              </script>
 
            {% endif %}
          {%- endfor -%}
        </div>
      </div>
    </div>

    <div
      class="product-info{% if section.settings.stick_on_scroll %} product-info--sticky{% endif %}"
      {% if section.settings.stick_on_scroll %}
        data-sticky-height-elems="#product-media,.cc-main-product + .cc-product-details .container"
      {% endif %}
    >
      <product-form>
        {%- form 'product', product, class: 'js-product-form js-product-form-main', id: product_form_id -%}
          {%- if section.settings.stick_on_scroll -%}
            <script src="{{ 'sticky-scroll-direction.js' | asset_url }}" defer="defer"></script>
            <sticky-scroll-direction data-min-sticky-size="md">
              <div class="product-info__sticky">
          {%- endif -%}

          {%- assign has_variant_picker = false -%}
          {%- if section.settings.sticky_atc_panel -%}
            <a class="product-options--anchor" id="product-info" rel="nofollow"></a>
          {%- endif -%}

          {%- for block in section.blocks -%}
            {%- case block.type -%}
              {%- when '@app' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  {% render block %}
                </div>

              {%- when 'vendor-sku' -%}
                {%- if block.settings.show_vendor or block.settings.show_sku or block.settings.show_barcode -%}
                  <div
                    class="product-info__block product-info__block--sm product-vendor-sku text-sm"
                    {{ block.shopify_attributes }}
                  >
                    {%- if block.settings.show_vendor and product.vendor != blank -%}
                      {%- liquid
                        assign vendor_handle = product.vendor | handle
                        if collections[vendor_handle].handle == vendor_handle
                          assign vendor_url = collections[vendor_handle].url
                        else
                          assign vendor_url = product.vendor | url_for_vendor
                        endif
                      -%}
                      <span class="product-vendor">{{ product.vendor | link_to: vendor_url }}</span>
                    {%- endif -%}

                    {%- if block.settings.show_sku -%}
                      <span
                        class="product-sku"
                        {% if current_variant.sku == blank %}
                          hidden
                        {% endif %}
                      >
                        {%- if block.settings.show_vendor and product.vendor != blank %} &nbsp;|&nbsp; {% endif -%}
                        <span>{{ 'products.product.sku' | t }}</span>
                        <span class="product-sku__value">{{ current_variant.sku }}</span>
                      </span>
                    {%- endif -%}

                    {%- if block.settings.show_barcode -%}
                      <span
                        class="product-info__barcode"
                        {% if current_variant.barcode == blank %}
                          hidden
                        {% endif %}
                      >
                        {%- if block.settings.show_vendor or block.settings.show_sku %} &nbsp;|&nbsp; {% endif -%}
                        <span>{{ 'products.product.barcode' | t }}</span>
                        <span class="product-info__barcode-value">
                          {%- if current_variant.barcode %}{{ current_variant.barcode }}{% endif -%}
                        </span>
                      </span>
                    {%- endif -%}
                  </div>
                {%- endif -%}

              {%- when 'title' -%}
                <div
                  class="product-info__block product-info__block--sm product-info__title"
                  {{ block.shopify_attributes }}
                >
                  <h1 class="product-title h5">
                    {{ product.title | escape }}

                    {% if block.settings.show_weight %}
                      <span
                        class="product-info__weight text-body-extra_small"
                        {% unless current_variant.weight > 0 %}
                          hidden
                        {% endunless %}
                      >
                        {% if current_variant.weight > 0 %}
                          {{ current_variant.weight | weight_with_unit: current_variant.weight_unit }}
                        {% endif %}
                      </span>
                    {% endif %}
                  </h1>
                  {% comment %} course-drawer code start {% endcomment %}
                  <div class="c_drawer_only">
                    <h2 class="h4 section__heading mb-0 flex-auto text-left align-self-start">
                      {% assign url = product.metafields.colibri.membership_page.value.url %}
                      {% if url == blank %}
                        {% assign url = product.url | within:collection %}
                      {% endif %}
                      <a href="{{ url }}">{{ product.title }}</a>
                    </h2>
                    <hr class="course_hr">
                    <div class="c_info align-self-start">
                      <div class="hours_review">
                        <span class="pro_hours">
                          {% if product.metafields.colibri.contact_hours != blank
                            and product.metafields.colibri.course_format != blank
                          -%}
                            {{- product.metafields.colibri.contact_hours }} Hours
                          {%- endif -%}
                        </span>
                        {% comment %}
                          <span class="card_star"
                            >★★★★★
                            <div class="star_num">(2)</div>
                          </span>
                        {% endcomment %}
                        {% if product.metafields.colibri.instructional_level != blank %}
                          <span class="ins"
                            >Instructional Level: {{ product.metafields.colibri.instructional_level -}}
                          </span>
                        {% endif %}
                      </div>
                      {%- if product.has_only_default_variant -%}
                        {% if product.metafields.colibri.contact_hours != blank %}
                          <span class="pro_hours">
                            <img src="{{ 'clock.png' | asset_url }}">
                            <span id="courseHours">{{- product.metafields.colibri.contact_hours }}</span> Hours
                          </span>
                          <span class="pipe_c">|</span>
                        {% endif %}
                        {% if product.metafields.colibri.course_format != blank %}
                          <div class="icon_txt">
                            <img src="{{ 'pro_icon.png' | asset_url }}"
                            ><span>{{ product.metafields.colibri.course_format }}</span>
                          </div>
                        {% endif %}
                      {% else %}
                        {% if product.selected_or_first_available_variant.metafields.colibri.contact_hours != blank %}
                          <span class="pro_hours">
                            <img src="{{ 'clock.png' | asset_url }}">
                            <span id="courseHours">
                              {{- product.selected_or_first_available_variant.metafields.colibri.contact_hours -}}
                            </span>
                            Hours
                          </span>
                          <span class="pipe_c">|</span>
                        {% endif %}
                        {% if product.metafields.colibri.course_format != blank %}
                          <div class="icon_txt">
                            <img src="{{ 'pro_icon.png' | asset_url }}"
                            ><span>{{ product.metafields.colibri.course_format }}</span>
                          </div>
                        {% endif %}
                      {% endif %}
                    </div>
                  </div>
                  {% comment %} course-drawer code end {% endcomment %}
                </div>

              {%- when 'weight' -%}
                <div
                  class="product-info__block product-info__block--sm product-info__weight"
                  {{ block.shopify_attributes -}}
                  {% unless current_variant.weight > 0 %}
                    hidden
                  {% endunless %}
                >
                  {% if current_variant.weight > 0 %}
                    {{ current_variant.weight | weight_with_unit: current_variant.weight_unit }}
                  {% endif %}
                </div>

              {%- when 'barcode' -%}
                <div
                  class="product-info__block product-info__block--sm product-info__barcode text-sm"
                  {{ block.shopify_attributes -}}
                  {% if current_variant.barcode == blank %}
                    hidden
                  {% endif %}
                >
                  <span class="product-info-label">{{ 'products.product.barcode' | t }}</span>
                  <span class="product-info__barcode-value">
                    {%- if current_variant.barcode %}{{ current_variant.barcode }}{% endif -%}
                  </span>
                </div>

              {%- when 'tagline_txt' -%}
                {% if block.settings.tagline_text != blank and collection.metafields.colibri.discipline != blank %}
                  <div class="tagline_txt" id="tagline_txt">
                    {{ block.settings.tagline_text }}
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      aria-hidden="true"
                      focusable="false"
                      role="presentation"
                      class="icon"
                    >
                      <path d="M20 8.5 12.5 16 5 8.5" stroke="currentColor" stroke-width="1.5" fill="none"></path>
                    </svg>
                  </div>
                {% endif %}
              {%- when 'price' -%}
                {%- if product.has_only_default_variant -%}
                  <div class="bundle-flex">
                    <div class="product-info__price">
                      {% render 'price', product: product, use_variant: true %}
                    </div>
                    <div class="product-form-cart">
                      <div class="product-info__add-to-cart flex{% if enable_dynamic_checkout %} qty-input--secondary-btn{% endif %}">
                        {%- if block.settings.show_qty_selector -%}
                          {% render 'quantity-input', layout_style: 'combined' %}
                        {%- else -%}
                          <input type="hidden" name="quantity" class="qty-input__input" value="1">
                        {%- endif -%}

                        <div
                          class="product-info__add-button"
                          {% if product.template_suffix contains 'membership-product' %}
                            data-membership_pro="Membership"
                          {% endif %}
                        >
                          {%- capture add_to_cart_text -%}
                          {%- if product.template_suffix contains 'preorder' -%}
                            {{- 'products.product.preorder' | t -}}
                          {%- else -%}
                            {{- 'products.product.add_to_cart' | t -}}
                          {%- endif -%}
                        {%- endcapture -%}

                          <button
                            type="submit"
                            data-product_id="{{ product.id }}"
                            data-add-to-cart-text="{{ add_to_cart_text | escape }}"
                            class="{% if incart == true %}btn--cyan dis_btn{% endif %} product-form__submit btn {% if enable_dynamic_checkout %}btn--secondary{% else %}btn--primary{% endif %} w-full"
                            {% if template contains 'package-products' %}
                              disabled
                            {% endif %}
                            name="add"
                            {% if product.available == false %}
                              disabled
                            {% endif %}
                            {% if incart == true %}
                              data-state="{{ cart_state }}"
                              data-added-variant="{{ cart_added_variant }}"
                              data-edit="true"
                              data-discipline="{{ cart_discipline }}"
                              data-variant="{{ cart_variant }}"
                            {% endif %}
                          >
                            {%- if product.available -%}
                              {%- if incart == true -%}
                                In Cart
                              {%- else -%}
                                {{- add_to_cart_text -}}
                              {%- endif -%}
                            {%- else -%}
                              {{- 'products.product.sold_out' | t -}}
                            {%- endif -%}
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                {% endif %}
                <div
                  class="product-info__block product-info__block--sm product-price price-with-addcart"
                  {{ block.shopify_attributes }}
                >
                  {% comment %}<product-form>{% endcomment %}
                  <div class="product-form-cart">
                    {%- if block.settings.enable_text == true and block.settings.text != blank -%}
                      <div class="product-info__block rte" {{ block.shopify_attributes }}>
                        {{ block.settings.text }}
                        <p class="format_hours"></p>
                      </div>
                    {%- endif -%}
                    {% if product.metafields.colibri.package_bundle_products != blank %}
                      <div
                        data-product-hours="{{ product.selected_or_first_available_variant.metafields.colibri.contact_hours }}"
                        class="product-info__block rte product_list_bundle"
                        {{ block.shopify_attributes }}
                      >
                        {% assign items = product.metafields.colibri.package_bundle_products.value %}
                        {% if product.template_suffix contains 'pre-define-bundle' %}
                          {% for pr in items %}
                            <div class="bundle_main hide_chk">
                              <input
                                type="checkbox"
                                class="bundle_input checkbox visually-hidden focus-label-before"
                                name="properties[tempcourse {{ forloop.index }}]"
                                data-format="{{ format }}"
                                data-hours="{{ pr.metafields.colibri.contact_hours }}"
                                value="{{ pr.title }}"
                                checked="checked"
                              >
                              <label class="rad_h6 bundle_label flex items-start w-full m-0">
                                <span class="flex-auto"
                                  ><a target="_blank" href="{{ pr.url }}">{{ pr.title }}</a>
                                  <span class="contact_hours_bundle"
                                    >({{ pr.metafields.colibri.contact_hours }} hours)</span
                                  >
                                </span>
                              </label>
                            </div>
                          {% endfor %}
                        {% else %}
                          {% assign formats = '' %}
                          {% for pr in items %}
                            {% unless formats == '' %}{% assign formats = formats | append: ',' %}{% endunless %}
                            {% assign formats = formats | append: pr.metafields.colibri.course_format %}
                          {% endfor %}
                          {% assign formats = formats | split: ',' | uniq %}
                          {% for format in formats %}
                            <div
                              class="product-info__block rte"
                              data-product-format-hours="0"
                              data-format="{{ format | downcase }}"
                            >
                              <p>
                                {{ format }}
                                <span id="formatHours" style="display:none">0</span> Hours
                              </p>
                              {% for pr in items %}
                                {% if pr.metafields.colibri.course_format == format %}
                                  <div class="bundle_main {% if product.template_suffix contains 'pre-define-bundle' %}hide_chk{% endif %}">
                                    <input
                                      type="checkbox"
                                      class="bundle_input checkbox visually-hidden focus-label-before"
                                      id="course_{{ pr.id }}"
                                      name="properties[tempcourse {{ forloop.index }}]"
                                      data-format="{{ format }}"
                                      data-hours="{{ pr.metafields.colibri.contact_hours }}"
                                      value="{{ pr.title }}"
                                      {%- if product.template_suffix contains 'pre-define-bundle' -%}
                                        checked
                                      {%- endif -%}
                                    >
                                    <label
                                      for="course_{{ pr.id }}"
                                      class="rad_h6 bundle_label flex items-start w-full m-0"
                                    >
                                      <span class="flex-auto">
                                        {{ pr.title }}
                                        <span class="contact_hours_bundle"
                                          >({{ pr.metafields.colibri.contact_hours }} hours)</span
                                        >
                                      </span>
                                    </label>
                                  </div>
                                {% endif %}
                              {% endfor %}
                            </div>
                          {% endfor %}
                        {% endif %}
                      </div>
                      <div
                        class="product-info__add-button"
                        {% if product.template_suffix contains 'membership-product' %}
                          data-membership_pro="Membership"
                        {% endif %}
                      >
                        {%- capture add_to_cart_text -%}
                          {%- if template contains 'preorder' -%}
                            {{- 'products.product.preorder' | t -}}
                          {%- else -%}
                            {{- 'products.product.add_to_cart' | t -}}
                          {%- endif -%}
                        {%- endcapture -%}
                      </div>
                    {% endif %}
                  </div>
                  {% comment %}</product-form>{% endcomment %}

                  {%- if block.settings.show_tax_and_shipping -%}
                    {%- if cart.taxes_included or shop.shipping_policy.body != blank -%}
                      <div class="product-policies text-sm rte">
                        {%- if cart.taxes_included -%}
                          {{ 'products.product.include_taxes' | t }}
                        {%- endif -%}
                        {%- if shop.shipping_policy.body != blank -%}
                          {{ 'products.product.shipping_policy_html' | t: link: shop.shipping_policy.url }}
                        {%- endif -%}
                      </div>
                    {%- endif -%}
                  {%- endif -%}

                  {%- assign instalments_form_id = 'instalments-form-' | append: section.id -%}
                  {%- form 'product',
                    product,
                    class: 'hidden js-instalments-form  text-sm mt-2',
                    id: instalments_form_id
                  -%}
                    <input type="hidden" name="id" value="{{ current_variant.id }}">
                    {{ form | payment_terms }}
                  {%- endform -%}
                </div>

              {%- when 'rating' -%}
                {%- if product.metafields.reviews.rating.value != blank -%}
                  <div
                    class="product-info__block product-info__block--sm product-info__rating"
                    {{ block.shopify_attributes }}
                  >
                    {% render 'rating',
                      rating_value: product.metafields.reviews.rating.value,
                      rating_count: product.metafields.reviews.rating_count
                    %}
                  </div>
                {%- endif -%}

              {%- when 'variant-picker' -%}
                {%- unless product.has_only_default_variant -%}
                  {%- assign has_variant_picker = true -%}
                  {%- if section.settings.sticky_atc_panel and product.available -%}
                    <a class="product-options--anchor" id="variants" rel="nofollow"></a>
                  {%- endif -%}
                  {% if template.suffix contains 'package-products' %}
                    <div class="bundle-flex">
                      <div class="product-info__price">
                        {% render 'price', product: product, use_variant: true %}
                      </div>
                      <div class="product-form-cart">
                        <div class="product-info__add-to-cart flex{% if enable_dynamic_checkout %} qty-input--secondary-btn{% endif %}">
                          {%- if block.settings.show_qty_selector -%}
                            {% render 'quantity-input', layout_style: 'combined' %}
                          {%- else -%}
                            <input type="hidden" name="quantity" class="qty-input__input" value="1">
                          {%- endif -%}

                          <div
                            class="product-info__add-button"
                            {% if product.template_suffix contains 'membership-product' %}
                              data-membership_pro="Membership"
                            {% endif %}
                          >
                            {%- capture add_to_cart_text -%}
                          {%- if product.template_suffix contains 'preorder' -%}
                            {{- 'products.product.preorder' | t -}}
                          {%- else -%}
                            {{- 'products.product.add_to_cart' | t -}}
                          {%- endif -%}
                        {%- endcapture -%}

                            <button
                              type="submit"
                              data-product_id="{{ product.id }}"
                              data-add-to-cart-text="{{ add_to_cart_text | escape }}"
                              class="{% if incart == true %}btn--cyan dis_btn{% endif %} product-form__submit btn {% if enable_dynamic_checkout %}btn--secondary{% else %}btn--primary{% endif %} w-full"
                              {% if product.template_suffix contains 'package-products' %}
                                disabled
                              {% endif %}
                              name="add"
                              {% if product.available == false %}
                                disabled
                              {% endif %}
                              {% if incart == true %}
                                data-state="{{ cart_state }}"
                                data-added-variant="{{ cart_added_variant }}"
                                data-edit="true"
                                data-discipline="{{ cart_discipline }}"
                                data-variant="{{ cart_variant }}"
                              {% endif %}
                            >
                              {%- if product.available -%}
                                {%- if incart == true -%}
                                  In Cart
                                {%- else -%}
                                  {{- add_to_cart_text -}}
                                {%- endif -%}
                              {%- else -%}
                                {{- 'products.product.sold_out' | t -}}
                              {%- endif -%}
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  {% endif %}
                  <div class="product-info__block product-options" {{ block.shopify_attributes }}>
                    {% render 'variant-picker',
                      product: product,
                      product_form_id: product_form_id,
                      block: block,
                      media_ratio: media_ratio,
                      swatch_crop: section.settings.media_crop
                    %}
                  </div>
                {% endunless %}
                <div
                  class="new_category {% if product.template_suffix contains 'membership-product' or product.template_suffix contains 'pre-define' %}membership_category{% endif %}"
                  {% if template.suffix contains 'package-products' %}
                    style="display:none;"
                  {% endif %}
                >
                  {% include 'new_category_filter', state: cart_state, discipline: cart_discipline %}
                </div>
                {%- unless product.has_only_default_variant -%}
                  {% unless template.suffix contains 'package-products' %}
                    <div class="bundle-flex">
                      <div class="product-info__price">
                        {% render 'price', product: product, use_variant: true %}
                      </div>
                      <div class="product-form-cart">
                        <div class="product-info__add-to-cart flex{% if enable_dynamic_checkout %} qty-input--secondary-btn{% endif %}">
                          {%- if block.settings.show_qty_selector -%}
                            {% render 'quantity-input', layout_style: 'combined' %}
                          {%- else -%}
                            <input type="hidden" name="quantity" class="qty-input__input" value="1">
                          {%- endif -%}

                          <div
                            class="product-info__add-button"
                            {% if product.template_suffix contains 'membership-product' %}
                              data-membership_pro="Membership"
                            {% endif %}
                          >
                            {%- capture add_to_cart_text -%}
                          {%- if product.template_suffix contains 'preorder' -%}
                            {{- 'products.product.preorder' | t -}}
                          {%- else -%}
                            {%- if incart == true -%}
                              In Cart 
                              {% else %}
                            {{- 'products.product.add_to_cart' | t -}}
                              {% endif %}
                          {%- endif -%}
                        {%- endcapture -%}

                            <button
                              type="submit"
                              data-product_id="{{ product.id }}"
                              data-add-to-cart-text="{{ add_to_cart_text | escape }}"
                              class="{% if incart == true %}btn--cyan dis_btn{% endif %} product-form__submit btn {% if enable_dynamic_checkout %}btn--secondary{% else %}btn--primary{% endif %} w-full"
                              {% if product.template_suffix contains 'package-products' %}
                                disabled
                              {% endif %}
                              name="add"
                              {% if product.available == false %}
                                disabled
                              {% endif %}
                              {% if incart == true %}
                                data-state="{{ cart_state }}"
                                data-added-variant="{{ cart_added_variant }}"
                                data-edit="true"
                                data-discipline="{{ cart_discipline }}"
                                data-variant="{{ cart_variant }}"
                              {% endif %}
                            >
                              {%- if product.available -%}
                                {%- if incart == true -%}
                                  In Cart
                                {%- else -%}
                                  {{- add_to_cart_text -}}
                                {% endif %}
                              {%- else -%}
                                {{- 'products.product.sold_out' | t -}}
                              {%- endif -%}
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  {% endunless %}
                {%- endunless -%}

                {%- if block.settings.show_backorder_text -%}
                  <div class="product-info__block product-backorder">
                    {% render 'backorder', product: product, variant: current_variant %}
                  </div>
                {%- endif -%}

              {%- when 'inventory-status' -%}
                {%- if current_variant.inventory_management != blank -%}
                  {% render 'product-inventory', product: product, current_variant: current_variant, block: block %}
                {%- endif -%}

              {%- when 'bundle-product' -%}
                {% if block.settings.show_bundle_list %}
                  {% assign collection_bundle_list = block.settings.collection_bundle_list %}

                  {% render 'bundle-products',
                    product: product,
                    product_form_id: product_form_id,
                    collection_bundle_list: collection_bundle_list,
                    bundle_heading: block.settings.bundle_heading
                  %}
                {% endif %}

              {%- when 'buy-buttons' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  <product-form>
                    {%- form 'product', product, class: 'js-product-form js-product-form-main', id: product_form_id -%}
                      {%- liquid
                        assign gift_card_recipient_feature_active = false
                        if block.settings.show_gift_card_recipient and product.gift_card?
                          assign gift_card_recipient_feature_active = true
                        endif

                        assign enable_dynamic_checkout = false
                        if block.settings.enable_dynamic_checkout and product.selling_plan_groups == empty and gift_card_recipient_feature_active == false
                          unless product.template_suffix contains 'preorder'
                            assign enable_dynamic_checkout = true
                          endunless
                        endif
                      -%}

                      {%- if gift_card_recipient_feature_active -%}
                        {% render 'gift-card-recipient', section: section %}
                      {%- endif -%}

                      <div
                        class="alert mb-8 bg-error-bg text-error-text js-form-error text-start"
                        role="alert"
                        hidden
                      ></div>

                      <input type="hidden" name="id" value="{{ current_variant.id }}" disabled>
                      <div class="product-info__add-to-cart flex{% if enable_dynamic_checkout %} qty-input--secondary-btn{% endif %}">
                        {%- if block.settings.show_qty_selector -%}
                          {% render 'quantity-input', layout_style: 'combined' %}
                        {%- else -%}
                          <input type="hidden" name="quantity" value="1">
                        {%- endif -%}

                        <div
                          class="product-info__add-button"
                          {% if product.template_suffix contains 'membership-product' %}
                            data-membership_pro="Membership"
                          {% endif %}
                        >
                          {%- capture add_to_cart_text -%}
                        {%- if product.template_suffix contains 'preorder' -%}
                          {{- 'products.product.preorder' | t -}}
                        {%- else -%}
                          {{- 'products.product.add_to_cart' | t -}}
                        {%- endif -%}
                      {%- endcapture -%}

                          <button
                            type="submit"
                            data-product_id="{{ product.id }}"
                            data-add-to-cart-text="{{ add_to_cart_text | escape }}"
                            class="{% if incart == true %}btn--cyan dis_btn{% endif %} product-form__submit btn {% if enable_dynamic_checkout %}btn--secondary{% else %}btn--primary{% endif %} w-full"
                            name="add"
                            {% if product.available == false %}
                              disabled
                            {% endif %}
                            {% if incart == true %}
                              data-state="{{ cart_state }}"
                              data-added-variant="{{ cart_added_variant }}"
                              data-edit="true"
                              data-discipline="{{ cart_discipline }}"
                              data-variant="{{ cart_variant }}"
                            {% endif %}
                          >
                            {%- if product.available -%}
                              {%- if incart == true -%}
                                In Cart
                              {%- else -%}
                                {{- add_to_cart_text -}}
                              {%- endif -%}
                            {%- else -%}
                              {{- 'products.product.sold_out' | t -}}
                            {%- endif -%}
                          </button>
                        </div>
                      </div>

                      {%- if enable_dynamic_checkout -%}
                        {{ form | payment_button }}
                      {%- endif -%}
                    {%- endform -%}
                  </product-form>

                  {%- if block.settings.show_pickup_availability -%}
                    {% render 'pickup-availability', current_variant: current_variant %}
                  {%- endif -%}
                </div>

              {%- when 'complementary' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  {%- liquid
                    if block.settings.layout == 'carousel'
                      assign grid_classes = 'grid grid-flow-col auto-cols-1 gap-x-theme'
                    endif
                  -%}
                  {%- render 'recommendations',
                    intent: 'complementary',
                    products_to_show: block.settings.products_to_show,
                    heading: block.settings.heading,
                    layout: block.settings.layout,
                    grid_classes: grid_classes
                  -%}
                </div>

              {%- when 'collapsible-content' -%}
                {% if block.settings.show_as_collapsible_content %}
                  {%- if block.settings.text != blank or block.settings.page.content != blank -%}
                    <div class="goals-product">
                    <details-disclosure {{ block.shopify_attributes }}>
                      <details
                        class="disclosure disclosure--row"
                        {% if block.settings.open %}
                          open
                        {% endif %}
                      >
                        <summary>
                          <div class="flex justify-between items-center">
                            <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                              {%- if block.settings.icon != 'none' -%}
                                {% render 'icon', icon: block.settings.icon, width: 22, height: 22 %}
                              {%- endif -%}
                              {{- block.settings.heading | default: block.settings.page.title -}}
                            </h2>
                            <span class="disclosure__toggle">
                              {%- if settings.disclosure_toggle == 'plus' -%}
                                {% render 'icon-plus' %}
                              {%- else -%}
                                {% render 'icon-chevron-down' %}
                              {%- endif -%}
                            </span>
                          </div>
                        </summary>
                        <div class="disclosure__panel has-motion">
                          <div class="disclosure__content rte">
                            {{ block.settings.text }}
                            {{ block.settings.page.content }}
                          </div>
                        </div>
                      </details>
                    </details-disclosure>
                    </div>
                  {%- endif -%}
                {% else %}
                  <div class="normal_content">
                    <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                      {{- block.settings.heading | default: block.settings.page.title -}}:
                    </h2>
                    <div
                      class="product-info__block product-info__block--sm rte product-description"
                      {{ block.shopify_attributes }}
                    >
                      {{ block.settings.text }}
                      {{ block.settings.page.content }}
                    </div>
                  </div>
                  {% comment %}course-drawer code start{% endcomment %}
                  <div class="rte c_description c_drawer_only">
                    {% assign url = product.metafields.colibri.membership_page.value.url %}
                    {% if url == blank %}
                      {% assign url = product.url | within:collection %}
                    {% endif %}
                    <a href="{{ url }}">
                      <span class="orange_txt">Full {% if product.template_suffix contains 'membership' %}Membership{% else %}Course{% endif %} Description</span>
                    </a>
                    <div class="inn_desc">
                      {{
                        product.description
                        | strip_html
                        | strip_newlines
                        | replace: 'Course Description:', ''
                        | truncatewords: 75
                      }}
                    </div>
                  </div>
                  {% comment %}course-drawer code end{% endcomment %}
                {% endif %}

              {% when 'goals-product' %}
               {% if block.settings.heading != blank and product.metafields.colibri.goals != blank %}
                  <div class="goals-product desktop_show">
                    {% if block.settings.heading != blank %}
                      <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                        {{- block.settings.heading -}}
                      </h2>
                    {% endif %}
                    {{ product.metafields.colibri.goals | remove: '<br>' }}
                  </div>

              <div class="goals-product mobile_show">
                <details-disclosure>
                  <details class="disclosure disclosure--row">
                    <summary>
                      <div class="flex justify-between items-center">
                        <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                           {{- block.settings.heading -}}
                        </h2>
                        <span class="disclosure__toggle">
                          <svg
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            aria-hidden="true"
                            focusable="false"
                            role="presentation"
                            class="icon"
                          >
                            <path d="M20 8.5 12.5 16 5 8.5" stroke="currentColor" stroke-width="1.5" fill="none"></path>
                          </svg>
                        </span>
                      </div>
                    </summary>
                    <div class="disclosure__panel has-motion">
                      <div class="disclosure__content rte">
                        {{ product.metafields.colibri.goals | remove: '<br>' }}
                      </div>
                    </div>
                  </details>
                </details-disclosure>
              </div>
              {% endif %}
              {% comment %}
                {% if product.metafields.colibri.goals != blank %}
                  <div class="goals-product">
                    {% if block.settings.heading != blank %}
                      <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                        {{- block.settings.heading -}}
                      </h2>
                    {% endif %}
                    {{ product.metafields.colibri.goals | remove: '<br>' }}
                  </div>
                {% endif %}
             {% endcomment %}
              {% when 'summary-product' %}
             {% if block.settings.heading != blank and product.metafields.colibri.summary != blank %}
                                 <div class="summary-product desktop_show">
                    {% if block.settings.heading != blank %}
                      <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                        {{- block.settings.heading -}}
                      </h2>
                    {% endif %}
                    {{ product.metafields.colibri.summary | remove: '<br>' }}
                  </div>

              <div class="summary-product mobile_show">
                <details-disclosure>
                  <details class="disclosure disclosure--row">
                    <summary>
                      <div class="flex justify-between items-center">
                        <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                           {{- block.settings.heading -}}
                        </h2>
                        <span class="disclosure__toggle">
                          <svg
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            aria-hidden="true"
                            focusable="false"
                            role="presentation"
                            class="icon"
                          >
                            <path d="M20 8.5 12.5 16 5 8.5" stroke="currentColor" stroke-width="1.5" fill="none"></path>
                          </svg>
                        </span>
                      </div>
                    </summary>
                    <div class="disclosure__panel has-motion">
                      <div class="disclosure__content rte">
                        {{ product.metafields.colibri.summary | remove: '<br>' }}
                      </div>
                    </div>
                  </details>
                </details-disclosure>
              </div>
              {% endif %}
              {% comment %}
                {% if product.metafields.colibri.summary != blank %}
                  <div class="summary-product">
                    {% if block.settings.heading != blank %}
                      <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                        {{- block.settings.heading -}}
                      </h2>
                    {% endif %}
                    {{ product.metafields.colibri.summary | remove: '<br>' }}
                  </div>
                {% endif %}
                {% endcomment %}
              {%- when 'product-signup' -%}
                {%- liquid
                  assign show_block = true
                  if block.settings.unavailable_only and product.available == true
                    assign show_block = false
                  endif
                -%}
                {%- if show_block -%}
                  <div class="product-info__block product-signup" {{ block.shopify_attributes }}>
                    {%- if block.settings.heading != blank -%}
                      <p class="h6">{{ block.settings.heading | escape }}</p>
                    {%- endif -%}

                    {%- if block.settings.text != blank -%}
                      <div class="rte mb-4">{{ block.settings.text }}</div>
                    {%- endif -%}

                    {%- assign id = 'product-signup' -%}
                    {%- form 'contact', id: id, class: 'form' -%}
                      <input type="hidden" name="return_to" value="{{ product.url }}?contact_posted=true">
                      <input
                        type="hidden"
                        name="contact[Message]"
                        value="Customer has completed the product signup form."
                      >
                      <input type="hidden" name="contact[Product ID]" value="{{ product.id }}">
                      <input type="hidden" name="contact[Product URL]" value="{{ shop.url }}{{ product.url }}">
                      <input type="hidden" name="contact[Product Title]" value="{{ product.title | escape }}">

                      <div class="form__field">
                        <label class="label visually-hidden" for="{{ id }}">{{- 'product_signup.label' | t -}}</label>
                        <div class="input-with-button">
                          <input
                            type="email"
                            class="input w-full focus-inset"
                            id="{{ id }}"
                            name="contact[email]"
                            value="{{ form.email }}"
                            placeholder="{{ 'product_signup.placeholder' | t }}"
                            autocomplete="email"
                            {%- if form.posted_successfully? %}
                              aria-describedby="{{ id }}-success"
                            {%- elsif form.errors %}
                              aria-invalid="true"
                              aria-describedby="{{ id }}-error"
                              autofocus
                            {%- endif %}
                            aria-required="true"
                            required
                          >
                          <button class="btn focus-inset has-ltr-icon">
                            <span class="visually-hidden">{{- 'product_signup.button_label' | t -}}</span>
                            {% render 'icon-arrow-right' %}
                          </button>
                        </div>

                        {%- if form.errors -%}
                          <p class="form__field-error" id="{{ id }}-error">
                            {{ form.errors.translated_fields.email | capitalize }}
                            {{ form.errors.messages.email }}
                          </p>
                        {%- endif -%}
                      </div>

                      {%- if form.posted_successfully? -%}
                        <div
                          class="alert bg-success-bg text-success-text"
                          id="{{ id }}-success"
                          tabindex="-1"
                          autofocus
                        >
                          {{ 'product_signup.success' | t }}
                        </div>
                      {%- endif -%}
                    {%- endform -%}
                  </div>

                  {% if block.settings.divider %}
                    <hr class="mt-8 mb-8">
                  {% endif %}
                {%- endif -%}

              {%- when 'newsletter-signup' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  {%- if block.settings.heading != blank -%}
                    <p class="h6">{{ block.settings.heading | escape }}</p>
                  {%- endif -%}

                  {%- if block.settings.text != blank -%}
                    <div class="rte mb-4">{{ block.settings.text }}</div>
                  {%- endif -%}

                  {% render 'newsletter-signup',
                    id: 'product-newsletter-signup',
                    tags: 'product page',
                    arrow_button: true
                  %}
                </div>

              {%- when 'share' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  <div class="social-share flex items-center">
                    <p class="social-share__heading mb-0 font-bold">{{ 'general.social.share_heading' | t }}:</p>
                    {% render 'social-share',
                      share_title: product.title,
                      share_url: product.url,
                      share_image: product
                    %}
                  </div>
                </div>

              {%- when 'richtext' -%}
                {%- if block.settings.text != blank -%}
                  <div class="product-info__block rte" {{ block.shopify_attributes }}>
                    {{ block.settings.text }}
                  </div>
                {%- endif -%}

                {% comment %}
                  {%- when 'product_list_bundle' -%}
                    {% if product.metafields.colibri.package_bundle_products != blank %}
                      {%- form 'product', product, class: 'js-product-form js-product-form-main', id: product_form_id -%}
                        <div
                          data-product-hours="{{ product.metafields.colibri.contact_hours }}"
                          class="product-info__block rte product_list_bundle"
                          {{ block.shopify_attributes }}
                        >
                          {% for pr in product.metafields.colibri.package_bundle_products.value %}
                            <div class="bundle_main">
                              <input
                                type="checkbox"
                                class="bundle_input checkbox visually-hidden focus-label-before"
                                id="course_{{ pr.id }}"
                                name="properties[Course {{ forloop.index }}]"
                                data-hours="{{ pr.metafields.colibri.contact_hours }}"
                                value="{{ pr.title }}"
                              >
                              <label
                                for="course_{{ pr.id }}"
                                class="rad_h6 bundle_label flex items-start w-full m-0"
                              >
                                <span class="flex-auto"> {{ pr.title }} <span class="contact_hours_bundle">({{ pr.metafields.colibri.contact_hours }} hours)</span> </span>
                              </label>
                            </div>
                          {% endfor %}
                        </div>
                        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                        <div class="product-info__add-button" {% if product.title contains 'membership' or product.title contains 'Membership' %}data-membership_pro="Membership"{% endif %}>
                          {%- capture add_to_cart_text -%}
                            {%- if product.template_suffix contains 'preorder' -%}
                              {{- 'products.product.preorder' | t -}}
                            {%- else -%}
                              {{- 'products.product.add_to_cart' | t -}}
                            {%- endif -%}
                          {%- endcapture -%}

                          <button

                            type="submit"
                            data-add-to-cart-text="{{ add_to_cart_text | escape }}"
                            class="product-form__submit btn {% if enable_dynamic_checkout %}btn--secondary{% else %}btn--primary{% endif %} w-full"
                            name="add"
                            {% if product.available == false %}
                              disabled
                            {% endif %}
                          >
                            {%- if product.available -%}
                              {{- add_to_cart_text -}}
                            {%- else -%}
                              {{- 'products.product.sold_out' | t -}}
                            {%- endif -%}
                          </button>
                        </div>
                      {%- endform -%}
                    {% endif %}
                {% endcomment %}

              {%- when 'image' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  {%- if block.settings.title -%}
                    <p class="h4">{{ block.settings.title }}</p>
                  {%- endif -%}

                  <div class="flex {{ block.settings.image_align }}">
                    <div class="media relative" style="width: {{ block.settings.image_width }}px;">
                      {%- if block.settings.image != blank -%}
                        {%- if block.settings.url != blank -%}
                          <a href="{{ block.settings.url }}">
                        {%- endif -%}
                        {% render 'image',
                          image: block.settings.image,
                          src_width: block.settings.image_width,
                          quality: 1,
                          srcset_2x: true
                        %}
                        {%- if block.settings.url != blank -%}
                          </a>
                        {%- endif -%}
                      {%- else -%}
                        {{ 'image' | placeholder_svg_tag: 'media__placeholder' }}
                      {%- endif -%}
                    </div>
                  </div>
                </div>

              {%- when 'pop-up' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  <modal-opener class="no-js-hidden" data-modal="modal-{{ block.id }}">
                    <button type="button" class="{{ block.settings.link_style }}" aria-haspopup="dialog">
                      {{- block.settings.link_text -}}
                    </button>
                  </modal-opener>
                  <a href="{{ block.settings.page.url }}" class="link js-hidden">{{ block.settings.link_text }}</a>
                </div>

              {%- when 'custom-liquid' -%}
                <div class="product-info__block" {{ block.shopify_attributes }}>
                  {{ block.settings.custom_liquid }}
                </div>

              {%- when 'divider' -%}
                <hr
                  class="{{ block.settings.spacing }}{% unless block.settings.show_line %} invisible{% endunless %}"
                  {{ block.shopify_attributes }}
                >

              {%- when 'message' -%}
                {%- if block.settings.title != blank and block.settings.show_over_media == false -%}
                  <product-message
                    class="product-message product-message--info product-message--out has-motion relative"
                    style="--bg-color: {{ block.settings.bg_color }};--text-color: {{ block.settings.text_color }};"
                    {{ block.shopify_attributes }}
                    {% if block.settings.close == 'persistent' %}
                      data-persistent-close="true"
                    {% endif %}
                    data-block-id="{{ block.id }}"
                  >
                    <div class="product-message__inner">
                      {%- if block.settings.icon != 'none' -%}
                        {% render 'icon', icon: block.settings.icon, width: 32, height: 32 %}
                      {%- endif -%}

                      <div class="rte rte--inherit-heading-color">{{ block.settings.title }}</div>

                      {%- if block.settings.close != 'none' -%}
                        <button type="button" class="product-message__close tap-target text-current js-close-message">
                          <span class="visually-hidden">{{ 'accessibility.close' | t }}</span>
                          {% render 'icon-close' %}
                        </button>
                      {%- endif -%}
                    </div>
                  </product-message>
                {%- endif -%}

              {%- when 'description' -%}
                {%- if block.settings.show_as_collapsible_content -%}
                   <div class="normal_content desktop_show">
                    <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                      Description:
                    </h2>
                    <div
                      class="product-info__block product-info__block--sm rte product-description"
                      {{ block.shopify_attributes }}
                    >
                      {{ product.description | strip_newlines | remove: 'Course Description:' }}
                    </div>
                  </div>
                  <div class="goals-product mobile_show">
                  <details-disclosure {{ block.shopify_attributes }}>
                    <details
                      class="disclosure disclosure--row"
                      {% if block.settings.open %}
                        open
                      {% endif %}
                    >
                      <summary>
                        <div class="flex justify-between items-center">
                          <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                            {%- if block.settings.icon != 'none' -%}
                              {% render 'icon', icon: block.settings.icon, width: 22, height: 22 %}
                            {%- endif -%}
                            {{ 'products.product.description' | t }}
                          </h2>
                          <span class="disclosure__toggle">
                            {%- if settings.disclosure_toggle == 'plus' -%}
                              {% render 'icon-plus' %}
                            {%- else -%}
                              {% render 'icon-chevron-down' %}
                            {%- endif -%}
                          </span>
                        </div>
                      </summary>
                      <div class="disclosure__panel has-motion">
                        <div class="disclosure__content rte ">
                          {{ product.description | strip_html | strip_newlines | remove: 'Course Description:' }}
                        </div>
                      </div>
                    </details>
                  </details-disclosure>
                </div>
                {%- endif -%}
                  {% if product.description != blank %}
                      <div class="normal_content">
                        <h2 class="disclosure__title product-info__disclosure font-body font-bold text-body flex flex-auto items-center mb-0">
                          Description:
                        </h2>
                        <div
                          class="product-info__block product-info__block--sm rte product-description"
                          {{ block.shopify_attributes }}
                        >
                          {{ product.description | strip_newlines | remove: 'Course Description:' }}
                        </div>
                      </div>
                      {% comment %}course-drawer code start{% endcomment %}
                      <div class="rte c_description c_drawer_only">
                        {% assign url = product.metafields.colibri.membership_page.value.url %}
                        {% if url == blank %}
                          {% assign url = product.url | within:collection %}
                        {% endif %}
                        <a href="{{ url }}">
                          <span class="orange_txt">Full {% if product.template_suffix contains 'membership' %}Membership{% else %}Course{% endif %} Description</span>
                        </a>
                        <div class="inn_desc">
                          {{
                            product.description
                            | strip_html
                            | strip_newlines
                            | replace: 'Course Description:', ''
                            | truncatewords: 75
                          }}
                        </div>
                      </div>
                      {% comment %}course-drawer code end{% endcomment %}
                {%- endif -%}

              {%- when 'product-labels' -%}
                {%- capture variant_labels -%}
              {%- for variant in product.variants -%}
                {%- liquid
                  assign variant_label = blank
                  capture variant_label
                    render 'product-label', product: product, variant: variant, is_product_card: false, limit: 99
                  endcapture
                -%}
                {%- if variant_label != blank -%}
                  <div class="variant-label js-variant-label" hidden data-variant-id="{{ variant.id }}">
                    {{ variant_label }}
                  </div>
                {%- endif -%}
              {%- endfor -%}
            {%- endcapture -%}

                {%- if variant_labels != blank -%}
                  <variant-label
                    class="block product-info__block product-info__block--sm"
                    data-current-variant-id="{{ current_variant.id }}"
                  >
                    {{ variant_labels }}
                  </variant-label>
                  <script src="{{ 'variant-label.js' | asset_url }}" defer="defer"></script>
                {%- endif -%}
            {%- endcase -%}
          {%- endfor -%}

          {%- if section.settings.stick_on_scroll -%}
            </div>
            </sticky-scroll-direction>
          {%- endif -%}
        {% endform %}
      </product-form>
    </div>
    {{ product.type }}

    {% comment %}
      state loop
        discipline loop
      {
        "Alabama":{
          "code" : "AL",
          "pt":{
            "profession": "Online"
          },
          "ot":{
            "profession": "Online"
          }
        },
        "Alaska":{
          "code" : "AK",
          "pt":{
            "profession": "Online"
          },
          "ot":{
            "profession": "Online"
          }
        }
      }
    {% endcomment %}
    <script type="application/json" data-file="main-product" id="custom-product-json">
      {
        {%- for variant in product.variants -%}
        "{{- variant.id -}}": {
          "profession" : {% if product.metafields.colibri.profession != blank %}{{- product.metafields.colibri.profession -}}{% else %}{}{% endif %},
          "bundle_hours" : {% if variant.metafields.colibri.bundle_hours != blank %}{{- variant.metafields.colibri.bundle_hours -}}{% else %}{}{% endif %},
          "extension_duration": "{% if variant.metafields.colibri.webinar_course_hours %}{{- variant.metafields.colibri.extension_duration -}}{% endif %}",
          "contact_hours": "{{- variant.metafields.colibri.contact_hours -}}",
          "delivery_method": "{{- variant.metafields.colibri.delivery_method -}}",
          "product_type":"{%- if product.type == blank -%}{{- product.metafields.colibri.course_format -}}{%- else -%}{{- product.type -}}{%- endif -%}",
          "start_date": "{{- product.metafields.colibri.start_date -}}",
          "end_date": "{{- product.metafields.colibri.end_date -}}"
        }{% unless forloop.last %},{% endunless %}
        {%- endfor -%}
      }
    </script>
  </div>
</div>

{%- render 'product-popups' -%}

{%- if section.settings.sticky_atc_panel and product.available -%}
  <link rel="stylesheet" href="{{ 'sticky-atc-panel.css' | asset_url }}" media="print" onload="this.media='all'">
  {% comment %}
    <script src="{{ 'sticky-atc-panel.js' | asset_url }}" defer="defer"></script>
  {% endcomment %}

  <sticky-atc-panel class="sticky-atc-panel sticky-atc-panel--out fixed {{ section.settings.sticky_atc_position }} invisible{% if section.settings.sticky_atc_mobile == false %} hidden md:block{% endif %}">
    <div class="container card card--row card--related card--sticky-atc relative flex items-center">
      {% comment %}
        {%- if product.featured_media -%}
          <div class="card__media{% if settings.blend_product_images %} image-blend{% endif %}">
            {%- liquid
              assign image_width = 44
              if product.featured_media.preview_image.aspect_ratio >= 1
                assign image_width = 56
              endif
            -%}
            {% render 'image', image: product.featured_media.preview_image, src_width: image_width, srcset_2x: true %}
          </div>
        {%- endif -%}
      {% endcomment %}
      <div class="card__info">
        <h1 class="product-title h5 mb-0">{{ product.title | escape | truncate: 70 }}</h1>

        {%- render 'price', product: product -%}
      </div>

      <div class="card__buttons">
        {%- liquid
          if has_variant_picker
            assign anchor = 'variants'
          else
            assign anchor = 'product-info'
          endif
        -%}
        {%- if product.has_only_default_variant -%}
          <a href="#{{ anchor }}" rel="nofollow" class="btn btn--secondary btn--sm">
            {{- 'products.product.view_details' | t -}}
          </a>
        {%- else -%}
          <a class="btn btn--secondary btn--orange rad_h6" href="#{{ anchor }}" rel="nofollow">
            {{- 'products.product.choose_options' | t -}}
          </a>
        {%- endif -%}
      </div>
    </div>
  </sticky-atc-panel>

  <script>
    jQuery(window).scroll(function () {
       // var svalue = $(window).scrollTop();
       let header_height = $(".cc-header--sticky").height();
       if ($(window).scrollTop() > 520) {
         $(".sticky-atc-panel").css('top', header_height + 'px');
         $(".sticky-atc-panel").addClass("show");

       } else {
         $(".sticky-atc-panel").removeClass("show");
       }
     });


     jQuery(window).on("load", function () {
         let header_height = $(".cc-header--sticky").height();
         if ($(window).scrollTop() > 520) {
           $(".sticky-atc-panel").css('top', header_height + 'px');
           $(".sticky-atc-panel").addClass("show");
         } else {
           $(".sticky-atc-panel").removeClass("show");
         }
     });
  </script>
{%- endif -%}

{%- if first_3d_model -%}
  <script type="application/json" id="product-json-{{ product.id }}">
    {{ product.media | where: 'media_type', 'model' | json }}
  </script>
{%- endif -%}
<p class="line-item-property__field" id="variant_properties">
  <!-- AJAX data go here -->
</p>
{% comment %}
  <script>
    let jsonA = JSON.parse(document.getElementById('custom-product-json').textContent);
    let selectedVariant = '45121488879904';
    let data = jsonA[selectedVariant];
    let htm = "";
    for (var key in data) {
      if (data.hasOwnProperty(key)) {
        htm += '<input id="'+key+'" type="hidden" value="'+data[key]+'" name="properties['+key+']" />';
        console.log("Key: " + key + ", Value: " + data[key]);
      }
    }
    themedocument.getElementById('#variant_properties').innerHTML = htm;
  </script>
{% endcomment %}

{% render 'structured-data-product', product: product, current_variant: current_variant %}

{% schema %}
{
  "name": "Product",
  "class": "cc-main-product product-main",
  "settings": [
    {
      "type": "checkbox",
      "id": "stick_on_scroll",
      "label": "Stick product info on scroll",
      "info": "Applies to large screens only.",
      "default": true
    },
    {
      "type": "header",
      "content": "Sticky 'Add to cart' prompt"
    },
    {
      "type": "paragraph",
      "content": "Shows a small prompt to scroll the page back to the product form."
    },
    {
      "type": "checkbox",
      "id": "sticky_atc_panel",
      "label": "Enable sticky 'Add to cart' prompt",
      "default": false
    },
    {
      "type": "select",
      "id": "sticky_atc_position",
      "label": "Position on large screens",
      "options": [
        {
          "value": "start",
          "label": "Left"
        },
        {
          "value": "sticky-atc-panel--center",
          "label": "Center"
        },
        {
          "value": "end",
          "label": "Right"
        }
      ],
      "default": "end"
    },
    {
      "type": "checkbox",
      "id": "sticky_atc_mobile",
      "label": "Show on mobile",
      "default": true
    },
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "paragraph",
      "content": "Learn more about [media types](https://help.shopify.com/en/manual/products/product-media)"
    },
    {
      "type": "select",
      "id": "media_layout",
      "label": "Layout on large screens",
      "info": "Stacked works best when all the product images are the same size. Mobile will always display a slider.",
      "options": [
        {
          "value": "stacked",
          "label": "Stacked"
        },
        {
          "value": "slider",
          "label": "Slider"
        }
      ],
      "default": "slider"
    },
    {
      "type": "select",
      "id": "media_size",
      "label": "Media width",
      "info": "Media will be full width on mobile.",
      "options": [
        {
          "value": "default",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "default"
    },
    {
      "type": "select",
      "id": "media_ratio",
      "label": "Media aspect ratio",
      "info": "Natural should only be used when images are the same dimensions.",
      "options": [
        {
          "value": "natural",
          "label": "Natural"
        },
        {
          "value": "1.33",
          "label": "Landscape (4:3)"
        },
        {
          "value": "1.77",
          "label": "Landscape (16:9)"
        },
        {
          "value": "1",
          "label": "Square"
        },
        {
          "value": "0.75",
          "label": "Portrait"
        }
      ],
      "default": "1"
    },
    {
      "type": "select",
      "id": "media_crop",
      "label": "Media crop",
      "info": "Only applies if the \"Media Shape\" is not \"Natural\".",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "hover_zoom",
      "label": "Zoom on hover",
      "info": "Only applies on large screens and when the original image is large enough.",
      "default": "large",
      "options": [
        {
          "value": "off",
          "label": "Off"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        },
        {
          "value": "original",
          "label": "Original image"
        }
      ]
    },
            {
          "type": "checkbox",
          "id": "show_qty_selector",
          "label": "Show quantity selector",
          "default": true
        },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "label": "Enable video looping",
      "default": false
    },
    {
      "type": "header",
      "content": "Stacked Layout"
    },
    {
      "type": "radio",
      "id": "stacked_scroll",
      "label": "Scroll to variant media",
      "options": [
        {
          "value": "never",
          "label": "Never"
        },
        {
          "value": "change",
          "label": "When the variant is changed"
        },
        {
          "value": "always",
          "label": "When the variant is changed or the page loads"
        }
      ],
      "default": "always"
    },
    {
      "type": "checkbox",
      "id": "underline_active",
      "label": "Underline active media",
      "default": true
    },
    {
      "type": "header",
      "content": "Slider Layout"
    },
    {
      "type": "select",
      "id": "media_thumbs",
      "label": "Show thumbnails",
      "options": [
        {
          "value": "never",
          "label": "Never"
        },
        {
          "value": "desktop",
          "label": "Large screens only"
        },
        {
          "value": "always",
          "label": "Always"
        }
      ],
      "default": "desktop"
    },
    {
      "type": "select",
      "id": "thumb_ratio",
      "label": "Thumbnail shape",
      "options": [
        {
          "value": "natural",
          "label": "Natural"
        },
        {
          "value": "1.33",
          "label": "Landscape"
        },
        {
          "value": "1",
          "label": "Square"
        },
        {
          "value": "0.75",
          "label": "Portrait"
        }
      ],
      "default": "1"
    },
    {
      "type": "select",
      "id": "thumb_crop",
      "info": "Only applies if the \"Thumbnail shape\" is not \"Natural\"",
      "label": "Thumb crop",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "media_arrows",
      "label": "Show arrows",
      "options": [
        {
          "value": "never",
          "label": "Never"
        },
        {
          "value": "mobile",
          "label": "Mobile only"
        },
        {
          "value": "desktop",
          "label": "Large screens only"
        },
        {
          "value": "always",
          "label": "Always"
        }
      ],
      "default": "desktop"
    },
    {
      "type": "checkbox",
      "id": "show_slide_count",
      "label": "Show slide count",
      "default": true
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Media border",
      "info": "Set to transparent to remove",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Media background",
      "info": "When using 'Blend product images' (Theme Settings > Colors > Color blending), the color specified there will override this.",
      "default": "#f4f4f4"
    },
    {
      "type": "header",
      "content": "Multiple variant images"
    },
    {
      "type": "checkbox",
      "id": "enable_media_grouping",
      "label": "Show media only associated with the selected variant",
      "info": "Other variants' media will be hidden",
      "default": false
    },
    {
      "type": "text",
      "id": "media_grouping_option",
      "label": "Variant option label",
      "info": "The label used to switch between images",
      "default": "Color,Colour,Couleur,Farbe"
    },
    {
      "type": "paragraph",
      "content": "If your store displays multiple languages, include all translations separated by a comma, e.g. Color,Couleur,Farbe"
    },
    {
      "type": "paragraph",
      "content": "Arrange product media by this option (all 'red' media together, then all 'blue' media together, for example). The first media in each group should be assigned to a variant. [Read more](https://cleancanvas.co.uk/support/enterprise/settings/grouped-variant-images)"
    },
    {
       "type": "link_list",
       "id": "collection_first_tree",
       "label": "Select first dropdown menu",
       "info": "This will populate all the links of selected menu."
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "buy-buttons",
      "name": "Buy buttons",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_qty_selector",
          "label": "Show quantity selector",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "enable_dynamic_checkout",
          "label": "Show dynamic checkout button",
          "info": "Using the payment methods available on your store, customers see their preferred option, like PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_pickup_availability",
          "label": "Show pickup availability",
          "info": "Show customers where they can pick up the product. [Learn more](https://help.shopify.com/en/manual/shipping/setting-up-and-managing-your-shipping/local-methods/local-pickup)",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_gift_card_recipient",
          "default": false,
          "label": "Show recipient information form for gift cards",
          "info": "Allow customers to send gift cards to a recipient along with a personal message. When enabled, the dynamic checkout button will be disabled for gift cards. [Learn more](https://help.shopify.com/manual/online-store/themes/customizing-themes/add-gift-card-recipient-fields)"
        }
      ]
    },
    {
       "type": "product_list_bundle",
       "name": "Bundle product list",
       "settings": [
          {
            "type" : "checkbox",
            "id" : "show_product_list",
            "label": "Show product list",
            "default": true
          }
       ]
    },
    {
      "type": "collapsible-content",
      "name": "Collapsible content",
      "settings": [
        {
          "type": "paragraph",
          "content": "This will be automatically hidden if there is no content to show."
        },
        {
          "type": "checkbox",
          "id": "show_as_collapsible_content",
          "label": "Show as collapsible content",
          "default": false
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Collapsible content"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "award",
              "label": "Award"
            },
            {
              "value": "box",
              "label": "Box"
            },
            {
              "value": "briefcase",
              "label": "Briefcase"
            },
            {
              "value": "calendar",
              "label": "Calendar"
            },
            {
              "value": "chat_bubble",
              "label": "Chat bubble"
            },
            {
              "value": "check_mark",
              "label": "Check mark"
            },
            {
              "value": "check_mark_in_circle",
              "label": "Check mark in circle"
            },
            {
              "value": "clock",
              "label": "Clock"
            },
            {
              "value": "credit_card",
              "label": "Credit card"
            },
            {
              "value": "dollar_sign",
              "label": "Dollar sign"
            },
            {
              "value": "dryer",
              "label": "Dryer"
            },
            {
              "value": "email",
              "label": "Email"
            },
            {
              "value": "eye",
              "label": "Eye"
            },
            {
              "value": "feather",
              "label": "Feather"
            },
            {
              "value": "gift",
              "label": "Gift"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "iron",
              "label": "Iron"
            },
            {
              "value": "leaf",
              "label": "Leaf"
            },
            {
              "value": "leather",
              "label": "Leather"
            },
            {
              "value": "lock",
              "label": "Lock"
            },
            {
              "value": "map_pin",
              "label": "Map pin"
            },
            {
              "value": "pants",
              "label": "Pants"
            },
            {
              "value": "percent",
              "label": "Percent"
            },
            {
              "value": "phone",
              "label": "Phone"
            },
            {
              "value": "plane",
              "label": "Plane"
            },
            {
              "value": "price_tag",
              "label": "Price tag"
            },
            {
              "value": "question_mark",
              "label": "Question mark"
            },
            {
              "value": "return",
              "label": "Return"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            },
            {
              "value": "scissors",
              "label": "Scissors"
            },
            {
              "value": "shirt",
              "label": "Shirt"
            },
            {
              "value": "shoe",
              "label": "Shoe"
            },
            {
              "value": "silhouette",
              "label": "Silhouette"
            },
            {
              "value": "star",
              "label": "Star"
            },
            {
              "value": "truck",
              "label": "Truck"
            },
            {
              "value": "washing",
              "label": "Washing"
            }
          ],
          "default": "none"
        },
        {
          "type": "liquid",
          "id": "text",
          "label": "Content",
          "default": "<p>Add your content here</p>"
        },
        {
          "type": "page",
          "id": "page",
          "label": "Content from page"
        },
        {
          "type": "checkbox",
          "id": "open",
          "label": "Open by default",
          "default": false
        }
      ]
    },
    {
      "type": "goals-product",
      "name": "Goals",
      "settings": [
         {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Goals & Objectives:"
        }
      ]
    },
    {
      "type": "summary-product",
      "name": "Disclosures",
      "settings": [
         {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Disclosures:"
        }
      ]
    },
    {
      "type": "custom-liquid",
      "name": "Custom Liquid",
      "settings": [
        {
          "type": "liquid",
          "id": "custom_liquid",
          "label": "Custom Liquid"
        }
      ]
    },
    {
      "type": "divider",
      "name": "Divider",
      "settings": [
        {
          "type": "checkbox",
          "id": "show_line",
          "label": "Show line",
          "default": true
        },
        {
          "type": "select",
          "id": "spacing",
          "label": "Spacing",
          "options": [
            {
              "value": "mt-8 mb-8",
              "label": "Default"
            },
            {
              "value": "mt-12 mb-12",
              "label": "Large"
            }
          ],
          "default": "mt-8 mb-8"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "range",
          "id": "image_width",
          "min": 80,
          "max": 1000,
          "step": 10,
          "unit": "px",
          "label": "Width",
          "default": 200
        },
        {
          "type": "select",
          "id": "image_align",
          "label": "Alignment",
          "options": [
            {
              "value": "justify-start",
              "label": "Left"
            },
            {
              "value": "justify-center",
              "label": "Center"
            },
            {
              "value": "justify-end",
              "label": "Right"
            }
          ],
          "default": "justify-start"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link"
        }
      ]
    },
    {
      "type": "bundle-product",
      "name": "Bundle products",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "bundle_heading",
          "label": "Enter bundle heading"
        },
        {
          "type" : "collection",
          "id": "collection_bundle_list",
          "label": "Select collection for bundle",
          "info": "All the products will show as product add ons."
        },
        {
          "type": "checkbox",
          "id": "show_bundle_list",
          "label": "Show bundle list",
          "default": true
        }
      ]
    },
    {
      "type": "inventory-status",
      "name": "Inventory status",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "Inventory colors and thresholds can be changed in \"Theme Settings > Product Inventory\"."
        },
        {
          "type": "checkbox",
          "id": "show_indicator_bar",
          "label": "Show inventory indicator bar",
          "default": true
        },
        {
          "type": "header",
          "content": "Urgency messages"
        },
        {
          "type": "checkbox",
          "id": "show_urgency_message",
          "label": "Show urgency message",
          "default": true
        },
        {
          "type": "richtext",
          "id": "text_very_low",
          "label": "Text when inventory is very low",
          "default": "<p>- Almost gone!</p>"
        },
        {
          "type": "richtext",
          "id": "text_low",
          "label": "Text when inventory is low",
          "default": "<p>- Hurry while stocks last!</p>"
        },
        {
          "type": "richtext",
          "id": "text_normal",
          "label": "Text when inventory is normal"
        },
        {
          "type": "richtext",
          "id": "text_no_stock",
          "label": "Text when out of stock"
        },
        {
          "type": "richtext",
          "id": "text_no_stock_backordered",
          "label": "Text when backordered",
          "default": "<p>Backordered</p>"
        }
      ]
    },
    {
      "type": "product-signup",
      "name": "Product sign-up",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "You will receive an email every time someone fills in this form."
        },
        {
          "type": "checkbox",
          "id": "unavailable_only",
          "label": "Only show when the product is not available",
          "info": "For example, when all variants have 0 stock. Note, email alerts will NOT be automatically sent to the customer when the product becomes available - you will need to do this.",
          "default": false
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Sign up to be the first to know when it's here</p>"
        },
        {
          "type": "checkbox",
          "id": "divider",
          "label": "Show dividing line below",
          "default": false
        }
      ]
    },
    {
      "type": "newsletter-signup",
      "name": "Newsletter sign-up",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Subscribe to our newsletter"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Sign up for exclusive offers.</p>"
        },
        {
          "type": "paragraph",
          "content": "Customers who subscribe will have an account created for them. [Learn more](https://help.shopify.com/en/manual/customers/manage-customers)"
        }
      ]
    },
    {
      "type": "pop-up",
      "name": "Pop-up",
      "settings": [
        {
          "type": "text",
          "id": "link_text",
          "label": "Link text",
          "default": "Pop-up link"
        },
        {
          "type": "select",
          "id": "link_style",
          "label": "Link style",
          "options": [
            {
              "value": "link",
              "label": "Link"
            },
            {
              "value": "btn btn--primary",
              "label": "Primary button"
            },
            {
              "value": "btn btn--secondary",
              "label": "Secondary button"
            }
          ],
          "default": "link"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Content"
        },
        {
          "id": "page",
          "type": "page",
          "label": "Content from page"
        }
      ]
    },
    {
      "type": "weight",
      "name": "Weight",
      "limit": 1
    },
    {
      "type": "barcode",
      "name": "Barcode (ISBN, UPC, etc)",
      "limit": 1
    },
    {
      "type": "price",
      "name": "Price",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_tax_and_shipping",
          "label": "Show tax and shipping information",
          "default": true
        },
          {
            "type": "checkbox",
            "id": "enable_text",
            "label": "Show Text",
            "default": true
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Rich text"
          }
      ]
    },
    {
      "type": "tagline_txt",
      "name": "Tag line Text",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "tagline_text",
          "label": "Tagline Text",
          "default": "This course is FREE with membership"
        }
      ]
    },
    {
      "type": "rating",
      "name": "Product rating",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "To display a rating, add a product rating app. [Learn more](https://apps.shopify.com/search?q=reviews)"
        }
      ]
    },
    {
      "type": "complementary",
      "name": "Complementary products",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "To select complementary products, add the Search & Discovery app. [Learn more](https://help.shopify.com/manual/online-store/search-and-discovery/product-recommendations)"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Goes well with"
        },
        {
          "type": "range",
          "id": "products_to_show",
          "min": 1,
          "max": 10,
          "step": 1,
          "default": 4,
          "label": "Maximum products to show",
          "info": "Out of stock products will not be shown."
        },
        {
          "type": "select",
          "id": "layout",
          "label": "Layout",
          "options": [
            {
              "value": "carousel",
              "label": "Carousel"
            },
            {
              "value": "list",
              "label": "List"
            }
          ],
          "default": "carousel"
        }
      ]
    },
    {
      "type": "richtext",
      "name": "Rich text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Rich text"
        }
      ]
    },
    {
      "type": "course_category",
      "name": "Course Category",
      "settings": [
           {
               "type": "link_list",
               "id": "collection_first_tree",
               "label": "Select first dropdown menu",
               "info": "This will populate all the links of selected menu."
            },
            {
               "type": "link_list",
               "id": "collection_second_tree",
               "label": "Select second dropdown menu",
               "info": "This will populate all the links of selected menu."
            },
            {
                "type": "text",
               "id": "category_btn_text",
               "label": "Enter button text"
            }

      ]
    },
    {
        "type": "unlimited_membership",
        "name": "Product with add cart",
        "settings": [
          {
             "type": "product",
             "id": "unlimited_product",
             "label": "Select product"
          },
          {
             "type": "text",
             "id": "subtitle_product",
             "label": "Enter subtitle for product"
          }
        ]
    },
    {
      "type": "course_outline",
      "name": "Course Outline",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Course Outline:"
        }
      ]
    },
    {
      "type": "author",
      "name": "Author",
      "settings": [
       {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Author"
        },
        {
          "type": "richtext",
          "id": "text_1",
          "label": "Rich text 1"
        },
        {
          "type": "richtext",
          "id": "text_2",
          "label": "Rich text 2"
        },
        {
          "type": "url",
          "id": "photo_url",
          "label": "Photo URL"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    },
    {
      "type": "share",
      "name": "Share",
      "limit": 1
    },
    {
      "type": "title",
      "name": "Title",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_weight",
          "label": "Show weight",
          "default": false
        }
      ]
    },
    {
      "type": "variant-picker",
      "name": "Variant picker",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "selector_style",
          "label": "Selector style",
          "info": "Swatches may not show as a dropdown, depending on the settings in Theme Settings > Swatches > Variant pickers.",
          "options": [
            {
              "value": "buttons",
              "label": "Buttons"
            },
            {
              "value": "dropdown",
              "label": "Dropdown"
            }
          ],
          "default": "buttons"
        },
        {
          "type": "checkbox",
          "id": "enable_dynamic_availability",
          "label": "Show availability in selectors",
          "default": true,
          "info": "Availability of variants will be shown in option selectors and update each time one is changed."
        },
        {
          "type": "checkbox",
          "id": "show_backorder_text",
          "label": "Show backorder text",
          "info": "Only shows for products which use Shopify inventory tracking and are available to purchase when out of stock.",
          "default": true
        },
        {
          "type": "header",
          "content": "Size chart"
        },
        {
          "type": "checkbox",
          "id": "enable_size_chart",
          "label": "Enable size chart",
          "default": false
        },
        {
          "type": "text",
          "id": "size_chart_variant",
          "label": "Option name",
          "info": "The label to show the link beside.",
          "default": "Size"
        },
        {
          "type": "page",
          "id": "size_chart_page",
          "label": "Page containing the size chart."
        }
      ]
    },
    {
      "type": "vendor-sku",
      "name": "Vendor / SKU / Barcode",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_vendor",
          "label": "Show vendor",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_sku",
          "label": "Show SKU",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_barcode",
          "label": "Show barcode",
          "info": " ISBN, UPC, etc",
          "default": false
        }
      ]
    },
    {
      "type": "message",
      "name": "Flash message",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "award",
              "label": "Award"
            },
            {
              "value": "box",
              "label": "Box"
            },
            {
              "value": "briefcase",
              "label": "Briefcase"
            },
            {
              "value": "calendar",
              "label": "Calendar"
            },
            {
              "value": "chat_bubble",
              "label": "Chat bubble"
            },
            {
              "value": "check_mark",
              "label": "Check mark"
            },
            {
              "value": "check_mark_in_circle",
              "label": "Check mark in circle"
            },
            {
              "value": "clock",
              "label": "Clock"
            },
            {
              "value": "credit_card",
              "label": "Credit card"
            },
            {
              "value": "dollar_sign",
              "label": "Dollar sign"
            },
            {
              "value": "dryer",
              "label": "Dryer"
            },
            {
              "value": "email",
              "label": "Email"
            },
            {
              "value": "eye",
              "label": "Eye"
            },
            {
              "value": "feather",
              "label": "Feather"
            },
            {
              "value": "gift",
              "label": "Gift"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "iron",
              "label": "Iron"
            },
            {
              "value": "leaf",
              "label": "Leaf"
            },
            {
              "value": "leather",
              "label": "Leather"
            },
            {
              "value": "lock",
              "label": "Lock"
            },
            {
              "value": "map_pin",
              "label": "Map pin"
            },
            {
              "value": "pants",
              "label": "Pants"
            },
            {
              "value": "percent",
              "label": "Percent"
            },
            {
              "value": "phone",
              "label": "Phone"
            },
            {
              "value": "plane",
              "label": "Plane"
            },
            {
              "value": "price_tag",
              "label": "Price tag"
            },
            {
              "value": "question_mark",
              "label": "Question mark"
            },
            {
              "value": "return",
              "label": "Return"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            },
            {
              "value": "scissors",
              "label": "Scissors"
            },
            {
              "value": "shirt",
              "label": "Shirt"
            },
            {
              "value": "shoe",
              "label": "Shoe"
            },
            {
              "value": "silhouette",
              "label": "Silhouette"
            },
            {
              "value": "star",
              "label": "Star"
            },
            {
              "value": "truck",
              "label": "Truck"
            },
            {
              "value": "washing",
              "label": "Washing"
            }
          ],
          "default": "none"
        },
        {
          "type": "richtext",
          "id": "title",
          "label": "Message",
          "default": "<p>Product message</p>",
          "info": "Use metafields to have different messages per product. [Read more](https://cleancanvas.co.uk/support/enterprise/settings/custom-product-message)"
        },
        {
          "type": "select",
          "id": "close",
          "label": "Close button",
          "options": [
            {
              "value": "none",
              "label": "Not visible"
            },
            {
              "value": "once",
              "label": "Close this message"
            },
            {
              "value": "persistent",
              "label": "Close this message forever"
            }
          ],
          "default": "once"
        },
        {
          "type": "checkbox",
          "id": "show_over_media",
          "label": "Show over media",
          "default": false
        },
        {
          "type": "range",
          "id": "visibility_duration",
          "min": 3,
          "max": 15,
          "step": 1,
          "unit": "s",
          "label": "Seconds to show message",
          "info": "Only applies when the message shows over media.",
          "default": 7
        },
        {
          "type": "header",
          "content": "Style"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Background",
          "default": "#e4edfa"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text",
          "default": "#1a66d2"
        }
      ]
    },
    {
      "type": "description",
      "name": "Description",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_as_collapsible_content",
          "label": "Show as collapsible content",
          "default": false
        },
        {
          "type": "header",
          "content": "Collapsible content"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "award",
              "label": "Award"
            },
            {
              "value": "box",
              "label": "Box"
            },
            {
              "value": "briefcase",
              "label": "Briefcase"
            },
            {
              "value": "calendar",
              "label": "Calendar"
            },
            {
              "value": "chat_bubble",
              "label": "Chat bubble"
            },
            {
              "value": "check_mark",
              "label": "Check mark"
            },
            {
              "value": "check_mark_in_circle",
              "label": "Check mark in circle"
            },
            {
              "value": "clock",
              "label": "Clock"
            },
            {
              "value": "credit_card",
              "label": "Credit card"
            },
            {
              "value": "dollar_sign",
              "label": "Dollar sign"
            },
            {
              "value": "dryer",
              "label": "Dryer"
            },
            {
              "value": "email",
              "label": "Email"
            },
            {
              "value": "eye",
              "label": "Eye"
            },
            {
              "value": "feather",
              "label": "Feather"
            },
            {
              "value": "gift",
              "label": "Gift"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "iron",
              "label": "Iron"
            },
            {
              "value": "leaf",
              "label": "Leaf"
            },
            {
              "value": "leather",
              "label": "Leather"
            },
            {
              "value": "lock",
              "label": "Lock"
            },
            {
              "value": "map_pin",
              "label": "Map pin"
            },
            {
              "value": "pants",
              "label": "Pants"
            },
            {
              "value": "percent",
              "label": "Percent"
            },
            {
              "value": "phone",
              "label": "Phone"
            },
            {
              "value": "plane",
              "label": "Plane"
            },
            {
              "value": "price_tag",
              "label": "Price tag"
            },
            {
              "value": "question_mark",
              "label": "Question mark"
            },
            {
              "value": "return",
              "label": "Return"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            },
            {
              "value": "scissors",
              "label": "Scissors"
            },
            {
              "value": "shirt",
              "label": "Shirt"
            },
            {
              "value": "shoe",
              "label": "Shoe"
            },
            {
              "value": "silhouette",
              "label": "Silhouette"
            },
            {
              "value": "star",
              "label": "Star"
            },
            {
              "value": "truck",
              "label": "Truck"
            },
            {
              "value": "washing",
              "label": "Washing"
            }
          ],
          "default": "none"
        },
        {
          "type": "checkbox",
          "id": "open",
          "label": "Open by default",
          "default": false
        }
      ]
    },
    {
      "type": "product-labels",
      "name": "Product labels",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "See settings in \"Theme Settings > Product labels\"."
        }
      ]
    }
  ]
}
{% endschema %}
